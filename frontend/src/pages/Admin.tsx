aW1wb3J0IHsgTG9nb3V0T3V0bGluZWQsIFJlbG9hZE91dGxpbmVkIH0gZnJvbSAnQGFudC1kZXNpZ24vaWNvbnMnOwppbXBvcnQgeyBBbGVydCwgQnV0dG9uLCBGb3JtLCBMYXlvdXQsIE1vZGFsLCBTZWxlY3QsIFNwYWNlLCBTcGluLCBUYWJsZSwgVGFnLCBUeXBvZ3JhcGh5LCBtZXNzYWdlIH0gZnJvbSAnYW50ZCc7CmltcG9ydCB0eXBlIHsgQ29sdW1uc1R5cGUgfSBmcm9tICdhbnRkL2VzL3RhYmxlJzsKaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VNZW1vLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgYXBpIH0gZnJvbSAnLi4vbGliL2FwaSc7CmltcG9ydCB7IHVzZUF1dGgsIFVzZXIgfSBmcm9tICcuLi9ob29rcy91c2VBdXRoJzsKaW1wb3J0IHsgZXh0cmFjdEVycm9yTWVzc2FnZSB9IGZyb20gJy4uL3V0aWxzL2Vycm9yJzsKCmNvbnN0IHsgSGVhZGVyLCBDb250ZW50IH0gPSBMYXlvdXQ7CmNvbnN0IHsgVGl0bGUgfSA9IFR5cG9ncmFwaHk7Cgp0eXBlIFBsYW5PcHRpb24gPSAnMWgnIHwgJzFkJyB8ICcxdycgfCAnMW0nOwoKaW50ZXJmYWNlIExpY2Vuc2VNb2RhbFN0YXRlIHsKICBvcGVuOiBib29sZWFuOwogIHVzZXI/OiBVc2VyOwp9CgpleHBvcnQgZnVuY3Rpb24gQWRtaW5QYWdlKCkgewogIGNvbnN0IHsgdXNlciwgbG9nb3V0IH0gPSB1c2VBdXRoKCk7CiAgY29uc3QgW2RhdGEsIHNldERhdGFdID0gdXNlU3RhdGU8VXNlcltdPihbXSk7CiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpOwogIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgdW5kZWZpbmVkPigpOwogIGNvbnN0IFttb2RhbCwgc2V0TW9kYWxdID0gdXNlU3RhdGU8TGljZW5zZU1vZGFsU3RhdGU+KHsgb3BlbjogZmFsc2UgfSk7CgogIGNvbnN0IGZldGNoVXNlcnMgPSBhc3luYyAoKSA9PiB7CiAgICBzZXRMb2FkaW5nKHRydWUpOwogICAgc2V0RXJyb3IodW5kZWZpbmVkKTsKICAgIHRyeSB7CiAgICAgIGNvbnN0IHsgZGF0YTogdXNlcnMgfSA9IGF3YWl0IGFwaS5saXN0VXNlcnMoKTsKICAgICAgc2V0RGF0YSh1c2Vycyk7CiAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgc2V0RXJyb3IoZXh0cmFjdEVycm9yTWVzc2FnZShlcnIsICfojrflj5bnlKjmiLfliJfooajlpLHotKUnKSk7CiAgICB9IGZpbmFsbHkgewogICAgICBzZXRMb2FkaW5nKGZhbHNlKTsKICAgIH0KICB9OwoKICB1c2VFZmZlY3QoKCkgPT4gewogICAgaWYgKHVzZXI/LnJvbGUgPT09ICdhZG1pbicpIHsKICAgICAgdm9pZCBmZXRjaFVzZXJzKCk7CiAgICB9CiAgfSwgW3VzZXJdKTsKCiAgY29uc3QgY29sdW1uczogQ29sdW1uc1R5cGU8VXNlcj4gPSB1c2VNZW1vKAogICAgKCkgPT4gWwogICAgICB7CiAgICAgICAgdGl0bGU6ICfpgq7nrrEnLAogICAgICAgIGRhdGFJbmRleDogJ2VtYWlsJywKICAgICAgICBrZXk6ICdlbWFpbCcsCiAgICAgIH0sCiAgICAgIHsKICAgICAgICB0aXRsZTogJ+inkuiJsicsCiAgICAgICAgZGF0YUluZGV4OiAncm9sZScsCiAgICAgICAga2V5OiAncm9sZScsCiAgICAgICAgcmVuZGVyOiAocm9sZTogc3RyaW5nKSA9PiA8VGFnIGNvbG9yPXtyb2xlID09PSAnYWRtaW4nID8gJ21hZ2VudGEnIDogJ2JsdWUnfT57cm9sZS50b1VwcGVyQ2FzZSgpfTwvVGFnPiwKICAgICAgfSwKICAgICAgewogICAgICAgIHRpdGxlOiAn5pON5L2cJywKICAgICAgICBrZXk6ICdhY3Rpb24nLAogICAgICAgIHJlbmRlcjogKF8sIHJlY29yZCkgPT4gKAogICAgICAgICAgPFNwYWNlPgogICAgICAgICAgICA8QnV0dG9uIG9uQ2xpY2s9eygpID0+IHNldE1vZGFsKHsgb3BlbjogdHJ1ZSwgdXNlcjogcmVjb3JkIH0pfSB0eXBlPSJwcmltYXJ5IiBkaXNhYmxlZD17cmVjb3JkLnJvbGUgPT09ICdhZG1pbic9fT4g
...