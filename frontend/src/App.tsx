import { Navigate, Route, Routes } from 'react-router-dom';
import { Spin } from 'antd';
import { useEffect } from 'react';
import { LoginPage } from './pages/Login';
import { RegisterPage } from './pages/Register';
import { DashboardPage } from './pages/Dashboard';
import { AdminPage } from './pages/Admin';
import { SessionPage } from './pages/Session';
import { useAuth } from './hooks/useAuth';
import './styles/globals.css';

function RequireAuth({ children }: { children: JSX.Element }) {
  const { status, initialize, user } = useAuth();

  useEffect(() => {
    if (status === 'idle') {
      void initialize();
    }
  }, [status, initialize]);

  if (status === 'idle' || status === 'loading') {
    return (
      <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', minHeight: '100vh' }}>
        <Spin tip="加载中..." />
      </div>
    );
  }

  if (!user || status === 'unauthenticated') {
    return <Navigate to="/login" replace />;
  }

  return children;
}

function RequireAdmin({ children }: { children: JSX.Element }) {
  const { user } = useAuth();
  if (!user || user.role !== 'admin') {
    return <Navigate to="/dashboard" replace />;
  }
  return children;
}

export default function App() {
  return (
    <Routes>
      <Route path="/" element={<Navigate to="/login" replace />} />
      <Route path="/login" element={<LoginPage />} />
      <Route path="/register" element={<RegisterPage />} />
      <Route
        path="/dashboard"
        element={
          <RequireAuth>
            <DashboardPage />
          </RequireAuth>
        }
      />
      <Route
        path="/admin"
        element={
          <RequireAuth>
            <RequireAdmin>
              <AdminPage />
            </RequireAdmin>
          </RequireAuth>
        }
      />
      <Route path="/session/:slug" element={<SessionPage />} />
      <Route path="*" element={<Navigate to="/login" replace />} />
    </Routes>
  );
}
